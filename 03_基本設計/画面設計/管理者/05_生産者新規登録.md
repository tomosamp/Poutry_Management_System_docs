# 生産者新規登録画面

## 1. 画面概要
- 目的: 生産者（施設）情報と申請者情報を登録し、地域ブロック区分に従って管理対象を作成する。
- 主利用者: 食鳥協会職員。
- 画面カテゴリ: 生産者管理。

## 2. 入力ステップ
1. 基本情報入力（生産者名、鳥種、事業者種別）。
2. 所在地入力（郵便番号入力時は住所自動補完）。
3. 地域ブロック確認・調整（都道府県から自動設定し、必要時のみ変更）。
4. 代表者情報入力（任意）。
5. 申請者情報入力（最低1名）。
6. 入力内容の確認。

## 3. 画面要素
| ID | 項目 | 種別 | 必須 | 検証 |
| --- | --- | --- | --- | --- |
| FLD-NEW-01 | 生産者名 | テキスト | 必須 | 100文字以内、重複チェック（正規化後の重複も不可）。 |
| FLD-NEW-02 | 生産者名カナ | テキスト | 任意 | ふりがな検索用。 |
| SEL-NEW-01 | 鳥種 | セレクト（単一選択） | 必須 | ブロイラー/成鶏/地鶏。 |
| FLD-NEW-11 | CSV施設キー | テキスト | 条件付き | ブロイラー/地鶏は必須。`^[a-f][0-9]+$`（例: `a1`, `b12`）。鳥種内で一意。成鶏は任意（当面は企業名照合運用）。 |
| SEL-NEW-02 | 事業者種別 | セレクト | 必須 | 企業/個人/家族経営。 |
| FLD-NEW-03 | 郵便番号 | テキスト | 任意 | 入力時は7桁数字。 |
| SEL-NEW-03 | 都道府県 | セレクト | 必須 | 郵便番号から自動補完、手動変更可。 |
| FLD-NEW-04 | 市区町村 | テキスト | 任意 | 入力時は100文字以内。 |
| FLD-NEW-05 | 番地 | テキスト | 任意 | 入力時は100文字以内。 |
| SEL-NEW-04 | 地域ブロック | セレクト | 条件付き | 都道府県に応じて自動初期設定。必要に応じて手動再選択（成鶏は任意/未設定可）。 |
| FLD-NEW-06 | 代表者氏名 | テキスト | 任意 | 50文字以内。 |
| FLD-NEW-07 | 申請者氏名 | テキスト | 必須 | 50文字以内。 |
| FLD-NEW-08 | 申請者部署/役職 | テキスト | 任意 | 50文字以内。 |
| FLD-NEW-09 | 申請者電話番号 | テキスト | 必須 | 数字・ハイフン可、15文字以内。 |
| FLD-NEW-10 | 申請者メールアドレス | テキスト | 必須 | RFC準拠簡易チェック。 |
| BTN-NEW-01 | 確認へ進む | ボタン | - | 入力検証後、確認画面へ。 |
| BTN-NEW-02 | 登録 | ボタン | - | 確認画面で押下、登録実行。 |
| BTN-NEW-03 | キャンセル | ボタン | - | 生産者一覧へ戻る。 |

## 4. 確認画面
- 入力内容を再表示し、修正リンクまたは戻るボタンを提供。
- 「データ内容を確認しました」チェックボックスを設け、同意後のみ登録可能。

## 5. 遷移
- 登録成功後: 生産者詳細・編集画面へ遷移し、成功メッセージ表示。
- キャンセル: 生産者一覧へ戻る。

## 6. 備考
- 生産者マスタは基本的に個別登録。初期データ投入はリリース前にSQLまたはシーダーで一括反映予定。
- CSV関連の一括処理は提出データを対象とし、本画面は利用しない。
  - ブロイラー/地鶏のCSV照合は `facilities.import_key`（CSV施設キー）で行うため、登録時に必ず設定する（`docs/03_基本設計/機能設計/20_データ提出/04_CSVアップロード.md`）。
  - 施設名の表記揺れは検索性・表示の観点で最小化する（前後空白除去、連続空白の1個化、法人格の同一視など）。
